/**
 * 日本の投資信託と株式の名前マッピング
 * 番号だけの銘柄コードに対して、わかりやすい名前を提供
 */

// 人気のある投資信託の名前マッピング
export const MUTUAL_FUND_NAMES = {
  // ニッセイ
  '2931113C': 'ニッセイ日経225インデックスファンド',
  '29311137': 'ニッセイTOPIXインデックスファンド',
  '2931217C': 'ニッセイ外国株式インデックスファンド',
  
  // 三菱UFJ国際
  '0331418A': 'eMAXIS Slim 米国株式(S&P500)',
  '03311187': 'eMAXIS Slim 全世界株式(オール・カントリー)',
  '0331119A': 'eMAXIS Slim 先進国株式インデックス',
  '03311179': 'eMAXIS Slim 国内株式(TOPIX)',
  '0331418B': 'eMAXIS Slim 全世界株式(除く日本)',
  
  // 大和
  '04311138': 'iFree 日経225インデックス',
  '04311217': 'iFree TOPIXインデックス',
  '04311224': 'iFree 外国株式インデックス(為替ヘッジなし)',
  
  // 野村
  '01311021': '野村インデックスファンド・日経225',
  '01311101': '野村インデックスファンド・TOPIX',
  
  // レオス
  '9C31116A': 'ひふみプラス',
  '9C311125': 'ひふみワールド',
  
  // SBI
  '89311199': 'SBI・V・S&P500インデックス・ファンド',
  '89311229': 'SBI・V・全世界株式インデックス・ファンド',
  '89311219': 'SBI・V・全米株式インデックス・ファンド',
  
  // 楽天
  '9I311179': '楽天・全世界株式インデックス・ファンド',
  '9I311189': '楽天・全米株式インデックス・ファンド',
  '9I31118B': '楽天・S&P500インデックス・ファンド',
};

// 主要な日本株の名前マッピング
export const JAPAN_STOCK_NAMES = {
  // トヨタグループ
  '7203': 'トヨタ自動車',
  '6201': '豊田自動織機',
  '6902': 'デンソー',
  '7211': '三菱自動車',
  '7201': '日産自動車',
  '7267': 'ホンダ',
  
  // ソニーグループ
  '6758': 'ソニーグループ',
  '6971': '京セラ',
  '6861': 'キーエンス',
  
  // 通信
  '9432': '日本電信電話（NTT）',
  '9433': 'KDDI',
  '9434': 'ソフトバンク',
  '9984': 'ソフトバンクグループ',
  
  // 銀行
  '8306': '三菱UFJフィナンシャル・グループ',
  '8316': '三井住友フィナンシャルグループ',
  '8411': 'みずほフィナンシャルグループ',
  '8308': 'りそなホールディングス',
  
  // 商社
  '8058': '三菱商事',
  '8053': '住友商事',
  '8001': '伊藤忠商事',
  '8002': '丸紅',
  '8031': '三井物産',
  
  // テクノロジー
  '6501': '日立製作所',
  '6503': '三菱電機',
  '6504': '富士電機',
  '6506': '安川電機',
  '6594': '日本電産',
  '6645': 'オムロン',
  '6724': 'セイコーエプソン',
  '6752': 'パナソニック',
  '6753': 'シャープ',
  '6762': 'TDK',
  '6857': 'アドバンテスト',
  '6920': 'レーザーテック',
  '6954': 'ファナック',
  '6981': '村田製作所',
  '7733': 'オリンパス',
  '7735': 'SCREENホールディングス',
  '7741': 'HOYA',
  '7751': 'キヤノン',
  '7752': 'リコー',
  
  // 小売・サービス
  '3382': 'セブン&アイ・ホールディングス',
  '8267': 'イオン',
  '9983': 'ファーストリテイリング',
  '4452': '花王',
  '4911': '資生堂',
  
  // 食品・飲料
  '2502': 'アサヒグループホールディングス',
  '2503': 'キリンホールディングス',
  '2587': 'サントリー食品インターナショナル',
  
  // 製薬
  '4502': '武田薬品工業',
  '4503': 'アステラス製薬',
  '4506': '住友ファーマ',
  '4507': '塩野義製薬',
  '4519': '中外製薬',
  '4523': 'エーザイ',
  '4568': '第一三共',
  
  // 不動産
  '8801': '三井不動産',
  '8802': '三菱地所',
  '8830': '住友不動産',
  
  // その他主要企業
  '9202': '全日本空輸（ANA）',
  '9201': '日本航空（JAL）',
  '9020': 'JR東日本',
  '9021': 'JR西日本',
  '9022': 'JR東海',
  '4063': '信越化学工業',
  '7974': '任天堂',
};

/**
 * 銘柄コードから名前を取得
 * @param {string} ticker - 銘柄コード
 * @returns {string} 銘柄名（見つからない場合は元のコードを返す）
 */
export const getJapaneseStockName = (ticker) => {
  // .Tサフィックスを除去
  const cleanTicker = ticker.replace('.T', '');
  
  // 投資信託の場合（複数のパターンに対応）
  if (/^(\d{8}|\d{7}[A-Z]|[A-Z0-9]{8})$/i.test(cleanTicker)) {
    return MUTUAL_FUND_NAMES[cleanTicker.toUpperCase()] || ticker;
  }
  
  // 日本株の場合
  if (/^\d{4}$/.test(cleanTicker)) {
    return JAPAN_STOCK_NAMES[cleanTicker] || ticker;
  }
  
  return ticker;
};

/**
 * 銘柄コードと名前を組み合わせた表示用文字列を生成
 * @param {string} ticker - 銘柄コード
 * @returns {string} 表示用文字列（例: "7203 - トヨタ自動車"）
 */
export const formatJapaneseStockDisplay = (ticker) => {
  const name = getJapaneseStockName(ticker);
  if (name === ticker) {
    return ticker;
  }
  return `${ticker} - ${name}`;
};

export default {
  MUTUAL_FUND_NAMES,
  JAPAN_STOCK_NAMES,
  getJapaneseStockName,
  formatJapaneseStockDisplay
};